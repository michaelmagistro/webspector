<!DOCTYPE html>
<html>
<head>
    <title>Scraper</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    Click <a href="{{ url_for('index') }}">here</a> to go back.
    <p>Today's date is {{ current_date }}</p>
    <!-- return the url the user inputted from the index page -->
    <p>You entered the url: {{ url }}</p>
    <p>Showcase: Python, Flask, Matplotlib, Plotly, HTML, CSS, GIT</p>
    <table style="width: 100%;">
        <thead style="width: 100%;">
            <tr>
                <th style="width: 50%;"><div>HTML Tags Breakdown: Plotly Pie Chart</div></th>
                <th style="width: 50%;"><div>Top 10 Tags: HTML Table via Python Loop</div></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <!-- plotly graph -->
                <td><div id="tagsBreakdown" style="text-align: left">{{ plotly_chart | safe }}</div></td>
                <td>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                        </thead>
                        <tbody>
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black; padding-left: 5px; padding-right: 5px;">Tag</th>
                                        <th style="border: 1px solid black; padding-left: 5px; padding-right: 5px;">Count</th>
                                        <th style="border: 1px solid black; padding-left: 5px; padding-right: 5px;">%</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for tags in unique_tags_ordered[:10] %}
                                        <tr>
                                            <td style="border: 1px solid black; padding-left: 5px; padding-right: 5px;">{{ tags[0] }}</td>
                                            <td style="border: 1px solid black; padding-left: 5px; padding-right: 5px;">{{ tags[1] }}</td>
                                            <td style="border: 1px solid black; padding-left: 5px; padding-right: 5px;">{{ (tags[1]/total_unique_tags*100)|round(2) }}%</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
    <table style="width: 100%;">
        <thead style="width: 100%;">
            <tr>
                <th style="width: 50%;"><div>Scatter Plot - Html Tags & Line Numbers</div></th>
                <th style="width: 50%;"><div>HTML Tags & Line Numbers Table</div></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><div id="tagsScatterPLTY" style="text-align: left">{{ plotly_chart2 | safe }}</div></td>
                <td><div id="tagsScatterMPL" style="text-align: left">{{ matplotlib_chart | safe }}</div></td>
            </tr>
        </tbody>
    </table>
</body>
</html>
